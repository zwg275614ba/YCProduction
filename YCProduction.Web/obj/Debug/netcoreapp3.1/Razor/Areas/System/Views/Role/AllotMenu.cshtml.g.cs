#pragma checksum "C:\Users\Administrator\Source\Repos\YCProduction\YCProduction.Web\Areas\System\Views\Role\AllotMenu.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "c8523fc11e53ecea5ebcadeef8e1758fbf4fc743"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_System_Views_Role_AllotMenu), @"mvc.1.0.view", @"/Areas/System/Views/Role/AllotMenu.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"c8523fc11e53ecea5ebcadeef8e1758fbf4fc743", @"/Areas/System/Views/Role/AllotMenu.cshtml")]
    #nullable restore
    public class Areas_System_Views_Role_AllotMenu : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    #nullable disable
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/lib/layui-v2.5.4/layui.all.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 2 "C:\Users\Administrator\Source\Repos\YCProduction\YCProduction.Web\Areas\System\Views\Role\AllotMenu.cshtml"
  
    ViewData["Title"] = "AllotMenu";
    Layout = "~/Views/Shared/_LayoutForm.cshtml";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<style type=""text/css"">
    .main {
        margin-top: 20px;
        margin-left: 40px;
    }

    .right {
        float: left;
        width: 85%;
    }

    .folder-open {
        display: inline-block;
        margin-right: 2px;
        width: 20px;
        height: 20px;
        vertical-align: middle;
        text-indent: -999em;
        background: url('../../images/skin_icons.png') -40px -196px no-repeat;
    }

    .folder-line {
        display: inline-block;
        margin-right: 2px;
        width: 20px;
        height: 20px;
        vertical-align: middle;
        text-indent: -999em;
        background: url('../../images/skin_icons.png') -80px -196px no-repeat;
    }

    .lab {
        margin-left: 5px;
    }

    tfoot td {
        text-align: right;
    }
</style>
<div class=""main"">
    <div class=""layui-form-item"">
        <label class=""layui-form-label"">角色名称</label>
        <div class=""layui-input-inline"">
            <input type=""text"" readonly=");
            WriteLiteral("\"readonly\"");
            BeginWriteAttribute("value", " value=\"", 1132, "\"", 1157, 1);
#nullable restore
#line 50 "C:\Users\Administrator\Source\Repos\YCProduction\YCProduction.Web\Areas\System\Views\Role\AllotMenu.cshtml"
WriteAttributeValue("", 1140, ViewBag.RoleName, 1140, 17, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" class=""layui-input"">
        </div>
    </div>
    <div class=""layui-form-item"">
        <label class=""layui-form-label"">菜单权限</label>
        <div class=""right"">
            <table id=""menuTable"" class=""layui-table table"">
                <thead>
                    <tr>
                        <td>导航名称</td>
                        <td>权限分配</td>
                        <td>功能分配</td>
                        <td>操作</td>
                    </tr>
                </thead>
                <tbody></tbody>
                <tfoot>
                    <tr>
                        <td colspan=""4"">
                            <a href='javascript:void(0);' class=""layui-btn layui-btn-normal layui-btn-xs"" id=""allcheck"">全选</a>
                            <a href='javascript:void(0);' class=""layui-btn layui-btn-normal layui-btn-xs"" id=""btnSave"">保存</a>
                            <a href='javasctipt:void(0);' class=""layui-btn layui-btn-primary layui-btn-xs"" id=""btnClose"">取消</a>
                        <");
            WriteLiteral("/td>\r\n                    </tr>\r\n                </tfoot>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "c8523fc11e53ecea5ebcadeef8e1758fbf4fc7436071", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n<script type=\"text/javascript\">\r\n    $(function () {\r\n        var _param = { _roleid:");
#nullable restore
#line 82 "C:\Users\Administrator\Source\Repos\YCProduction\YCProduction.Web\Areas\System\Views\Role\AllotMenu.cshtml"
                          Write(ViewBag.RoleId);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"};
        var _handler = {
            //加载数据
            _loadData: function () {
                $.ajax({
                    url: '/System/Role/AllotMenu',
                    data: { roleId: _param._roleid },
                    type: 'post',
                    dataType: 'html',
                    success: function (data) {
                        $('#menuTable tbody').html(data);
                        //全选
                        $(""span[_target=all]"").unbind(""click"").bind(""click"", function () {
                            $(this).parent().parent().find(""input[type='checkbox']"").prop(""checked"",true);
                        });
                        //取消
                        $(""span[_target=unall]"").unbind(""click"").bind(""click"", function () {
                            $(this).parent().parent().find(""input[type='checkbox']"").prop(""checked"", false);
                        });
                    },
                    error: function () {
                        alert(""加载数");
            WriteLiteral(@"据失败"");
                    }
                });
            },
            //全部选择
            _allcheck: function () {
                $('#allcheck').click(function () {
                    $('#menuTable').find(""input[type='checkbox']"").prop(""checked"", true);
                });
            },
            //关闭页面
            _close: function () {
                $('#btnClose').click(function () {
                    var index = parent.layer.getFrameIndex(window.name);
                    parent.layer.close(index);
                });
            },
            //提交数据
            _submit: function () {
                $('#btnSave').click(function () {
                    var _roleId = _param._roleid;
                    var cbxs = $(""#menuTable"").find('tbody input[type=""checkbox""]');
                    var _list = [];
                    cbxs.each(function (index, item) {
                        if (item.checked == true) {
                            var _row = { MenuId: 0, RoleId: 0,");
            WriteLiteral(@" ActionId: 0 };
                            var _name = item.name;//chx_2
                            if (_name.indexOf('cbx_') > -1) {
                                _name = _name.replace('cbx_', '');
                            } else {
                                _name = item.getAttribute('tag');
                                if (_name.indexOf('cbx_') > -1) {
                                    _name = _name.replace('cbx_', '');
                                }
                            }
                            _row.MenuId = _name;
                            _row.ActionId = item.value == ""on"" ? 0 : item.value;
                            _row.RoleId = _roleId;
                            _list.push(_row);
                        }
                    });
                    $.post('/System/Role/AddRMA', { roleId: _roleId, list: JSON.stringify(_list) }, function (res) {
                        if (res.State) {
                            layer.msg(res.Message);
           ");
            WriteLiteral(@"                 setTimeout(CloseWin, 1500);
                        }
                        else {
                            layer.msg(res.Message);
                        }
                    });
                });
            },
            _init: function () {
                _handler._loadData();
                _handler._allcheck();
                _handler._close();
                _handler._submit();
            }
        };
        _handler._init();
    });
</script>

");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
